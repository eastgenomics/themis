<!DOCTYPE html>
<html lang="en">
    <head>
        <title>DX App Compliance</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
              integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
              crossorigin="anonymous"> -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap5.min.js"></script>
        <script src="https://cdn.datatables.net/plug-ins/1.10.21/sorting/date-eu.js"></script>
        <script src="https://cdn.datatables.net/plug-ins/1.10.21/sorting/datetime-moment.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/css/buttons.dataTables.min.css"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/dataTables.buttons.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.bootstrap5.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.html5.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.3.2/js/buttons.print.min.js"></script>

	</head>
	<body>
        <div class="container-fluid">
            <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
              <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
                <span class="fs-4">Audit Report</span>
              </a>

              <ul class="nav nav-pills">
                <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
              </ul>
            </header>
            <div class="container-lg">
                <h5 class="fs-4">
                    Audit report for complaince of DNAnexus Apps/Applets with Eastgenomics guidelines
                </h5>
                <br>
                {% block content %}
                    <p class="fw-bold">Compliance Table by repository</p>
                    <div style="width: 100%;margin-left: auto;margin-right: auto;margin-top: 5px;margin-bottom: 40px;">
                        <!-- style="width: 80%;margin-left: 10%;margin-top: 5px;margin-bottom: 40px; -->
                        {{ Compliance_table | safe }}
                    </div>
                    <br>
                    <p class="fw-bold">Plot of compliance vs release date</p>
                    <div>   {{ release_comp_plot }}    </div>
                    <p class="fw-bold">Plot of compliance vs release date by ubuntu version</p>
                    <div>   {{ ubuntu_comp_plot }}    </div>
                    <p class="fw-bold">Plot of compliance by latest commit date </p>
                    <div>   {{ compliance_bycommitdate_plot }}    </div>
                    <p class="fw-bold">Plot of ubuntu versions</p>
                    <div>   {{ ubuntu_versions_plot }}    </div>
                <br>
                <div class="container-fluid">
                    <p class="fw-bold">Compliance Table with extra detail</p>
                    <div style="width: 100%;">
                        {{ Details_table | safe }}
                    </div>
                </div>
                <br>
                {% endblock %}
                <p class="fw-bold"> Summary table of compliance by performa </p>
                <div style="width:53.5%;margin-left: auto;margin-right: auto;margin-top: 5px;margin-bottom: 40px;">
                    <table id="summary_1"> {{ compliance_stats_summary | safe }} </table>
                </div>
            </div>
        </div>
        <script>
            // Sets up the DataTable
            $(document).ready(function () {
            $('.dataframe').DataTable( { //.dataframe // #comp
                deferRender:    true,
                scrollY:        '45vh',
                scrollX:        true,
                scroller:       true,
                scroller: {
                    loadingIndicator: true
                },
                scrollCollapse: true,
                'autoWidth': true,
                'autoHeight': true,
                'processing': true,
                'language': {
                    'loadingRecords': '&nbsp;',
                    'processing': 'Loading...'
                },
                paging: false, //removes page numbers?
                "columnDefs": [
                  { "width": "40%", "targets": 9 }
                ],
                dom: 'Bfrtip',
                buttons: [
                    'copyHtml5', 'csv', 'excel', 'pdf', 'print'
                ],
                pageResize:     false,
                ordering:       true
                });
            });
        </script>
        <script>
            // Sets up the DataTable for summary_1 table
            $(document).ready(function () {
            $('#summary_1').DataTable( {
                deferRender:    true,
                scrollY:        '50vh',
                scrollX:        true,
                scroller:       true,
                scroller: {
                    loadingIndicator: true
                },
                scrollCollapse: true,
                'autoWidth': true,
                'processing': true,
                'language': {
                    'loadingRecords': '&nbsp;',
                    'processing': 'Loading...'
                },
                paging: false,
                dom: 'Bfrtip',
                buttons: [
                    'copyHtml5', 'csv', 'excel', 'pdf', 'print'
                ],
                pageResize:     false,
                ordering:       true
                });
            });
        </script>

    </body>

</html>